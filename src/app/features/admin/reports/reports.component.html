<div class="reports-page">
  <h2>ðŸ“Š Reportes Generales</h2>

  <!-- SecciÃ³n de estadÃ­sticas generales -->
  <section *ngIf="generalStats">
    <p><strong>Ejercicios totales:</strong> {{ generalStats.total_exercises || 0 }}</p>
    <p><strong>Respuestas correctas:</strong> {{ generalStats.correct_answers || 0 }}</p>
    <p><strong>Respuestas incorrectas:</strong> {{ generalStats.wrong_answers || 0 }}</p>
    <p><strong>PrecisiÃ³n:</strong> {{ generalStats.accuracy || 0 }}%</p>
  </section>

  <!-- Promedio por materia -->
  <section *ngIf="subjects.length > 0; else noSubjects">
    <h3>ðŸ“˜ Promedio por materia</h3>
    <ul>
      <li *ngFor="let s of subjects">
        {{ s.subject_name }} â€” {{ s.avg_progress }}% progreso promedio
      </li>
    </ul>
  </section>
  <ng-template #noSubjects><p>Sin datos de materias disponibles.</p></ng-template>

  <!-- Materias mÃ¡s vistas -->
  <section *ngIf="mostViewed.labels.length > 0">
    <h3>ðŸ“ˆ Materias mÃ¡s vistas</h3>
    <ul>
      <li *ngFor="let name of mostViewed.labels; let i = index">
        {{ name }} â€” {{ mostViewed.values[i] }} vistas
      </li>
    </ul>
  </section>
</div>
