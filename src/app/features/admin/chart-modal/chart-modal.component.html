<div class="chart-page">
  <header class="chart-header">
    <div>
      <p class="eyebrow">Panel administrativo</p>
      <h2>Constructor de gráficos</h2>
      <p class="subtitle">Importa tus datos o usa la serie automática para analizar inscripciones.</p>
    </div>
    <div class="actions">
      <button class="btn ghost" type="button" routerLink="../reports">Volver a reportes</button>
      <button class="btn primary" type="button" (click)="renderChart()">Actualizar vista</button>
    </div>
  </header>

  <section class="chart-grid">
    <section class="config-card">
      <h3>Preferencias</h3>
      <label for="chartType">Tipo de gráfico</label>
      <select id="chartType" [ngModel]="chartType" (ngModelChange)="onChartTypeChange($event)">
        <option value="line">Líneas</option>
        <option value="bar">Barras</option>
      </select>

      <div class="quick-info">
        <span class="badge">Días: {{ parsedLabels.length || 0 }}</span>
        <span class="badge">Inscripciones: {{ totalStudents }}</span>
      </div>
    </section>

    <section class="preview-card">
      <header>
        <h3>Vista previa</h3>
        <p *ngIf="!hasParsedValues">No hay datos disponibles para este periodo.</p>
      </header>
      <div class="preview-chart" *ngIf="hasParsedValues; else emptyPreview">
        <canvas id="studentsChartModal" aria-label="Gráfico de inscripciones por día"></canvas>
      </div>
      <ng-template #emptyPreview>
        <div class="empty-state">Sin datos disponibles.</div>
      </ng-template>
    </section>
  </section>
</div>
